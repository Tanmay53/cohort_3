<!DOCTYPE html>
<html>
<head>
	<title>Coding Session 1!</title>
</head>
<body>
	<!-- These elements below are for FSD.W3.3.1_1-->
	<h1> Create your own exponentiation function! </h1>
	<input type="text" name = "num1" id = "num1">
	<input type="text" name = "num2" id = "num2">
	<p id = "exponent"> </p>
	</hr>
	<button onclick="exponent()">Click here to find the exponent!</button>
	<!-- These elements above are for FSD.W3.3.1_1-->

	<!-- These elements below are for FSD.W3.3.1_2-->
	<h1>Sum of multiples of 3 and 5!</h1>
	<p id="m3and5"></p>
	<input type="text" id = "multiple">
	<button onclick="sumOf3And5()">Click here for the output!</button>
	
	<!-- These elements above are for FSD.W3.3.1_2-->

	<!-- These elements below are for FSD.W3.3.1_3-->
	<h1>Check if the users email is valid!</h1>
	<label for="Email">Email</label>
	<input type="text" id="email"/>
	<button onclick="validateEmail()">Check Email!</button>
	<!-- These elements above are for FSD.W3.3.1_3-->
	<script type="text/javascript">
		//Write javascript for FSD.W3.3.1_1 here
		function exponent(){
            var num1 = Number(document.getElementById('num1').value);
            var num2 = Number(document.getElementById('num2').value);
            console.log(mutiplication(num1, num2));
            var result = 1;
            for (var i = 0; i < num2; i++) {
                result *= num1;
            }
            document.getElementById('exponent').innerHTML = result;
            document.getElementById('num1').value = '';
            document.getElementById('num2').value = '';
		}
		//Write javascript for FSD.W3.3.1_2 here
		function sumOf3And5(){
            var sum = 0;
            var limit = document.getElementById('multiple').value;
            for (var i = 0; i <= limit; i++) {
                if (i%15 == 0) {
                    sum += i;
                }
            }
            document.getElementById('m3and5').innerHTML = sum;
            document.getElementById('multiple').value = '';
		}
		//Write javascript for FSD.W3.3.1_3 here
		function validateEmail(){
            var emailElement = document.getElementById('email');
            var email = emailElement.value;
            if (isValid(email)) {
                alert("Valid Email!");
            }
            else {
                alert("Invalid Email!");
            }
            emailElement.value = '';

		}
        //Funcrion to find index of first occurance of a charater in a string.
        function indexOf(str, char) {
            var index = -1;
            for (var i = 0; i < str.length; i++) {
                if (str[i] == char) {
                    index = i;
                    break;
                }
            }
            return index;
        }

        //Function to return count of a char in a string.
        function countChar(str, char) {
            var cnt = 0;
            for (var i = 0; i < str.length; i++) {
                if (str[i] == char) {
                    cnt++;
                }
            }
            return cnt;
        }


        //Function to split string through a character.
        function splitString(str, char) {
            var arr = [];
            var s = '';
            for (var i = 0; i < str.length; i++) {
                if (str[i] != char) {
                    s += str[i];
                }
                else {
                    if (s.length != 0) {
                        arr.push(s);
                        s = '';
                    }
                }
            }
            if (s.length != 0) {
                arr.push(s);
            }
            return arr;
        }


        //Function to check if tld starts with dot or not.
        function tldDot (str) {
            if (str[0] == '.') {
                return true;
            }
            else {
                return false;
            }
        }


        //Function to check if tld is valid or not.
        function tldValid(str) {
            var arr = splitString(str,'.');
            tld = arr[arr.length-1];
            if (tld === 'com' || tld === 'org' || tld === 'net') {
                return true;
            }
            else {
                return false;
            }
        }


        //Function to check if anything other than character, digit, underscore or hyphen is present or not. If present return false else return true.
        function charCheck(str) {
            var allowed = 'abcdefghijklmnopqrstuvwxyz0123456789_.-';
            var flag = true;
            for (var i = 0; i < str.length; i++) {
                if (indexOf(allowed, str[i]) == -1) {
                    flag = false;
                    break;
                }
            }
            return flag;
        }


        //Function to check if double dots are present or not in the string.
        function doubleDots(str) {
            var flag = false;
            for (var i = 0; i < str.length - 1; i++) {
                if (str[i] == '.' && str[i+1] == '.') {
                    flag = true;
                    break;
                }
            }
            return flag;
        }


        //Function to check if email is valid or not.
        function isValid(email) {
            var flag = true;
            if (indexOf(email, '@') == -1) {
                flag = false;
            }
            else if (email[0] == '@' || email[0] == '.') {
                flag = false;
            }
            else if (countChar(email, '@') != 1) {
                flag = false;
            }
            else {
                var arr = splitString(email, '@');
                var firstPart = arr[0];
                var secondPart = arr[1];
                if (firstPart[firstPart.length - 1] == '.') {
                    flag = false;
                }
                if (tldDot(secondPart)) {
                    flag = false;
                }
                if (!tldValid(secondPart)) {
                    flag = false;
                }
                if (!charCheck(firstPart)) {
                    flag = false;
                }
                if (doubleDots(firstPart)) {
                    flag = false;
                }
            }
            return flag;
        }

        //Function to return multiplication of two numbers.
        function mutiplication(a,b) {
            return a*b;
        }
	</script>
</body>
</html>