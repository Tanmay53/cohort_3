<!DOCTYPE html>
<html>

<head>
    <title>Coding Session 1!</title>
</head>

<body>
    <!-- These elements below are for FSD.JS.9.1-->
    <h1> Create your own exponentiation function! </h1>
    <input type="text" name="num1" id="num1">
    <input type="text" name="num2" id="num2">
    <p id="result_exp"></p>
    </hr>
    <button onclick="exponent()">Click here to find the exponent!</button>
    <!-- These elements above are for FSD.JS.9.1-->

    <!-- These elements below are for FSD.JS.9.2-->
    <h1>Sum of multiples of 3 and 5!</h1>
    <p id="multiple_3and5_result"></p>
    <input type="text" id="limit">
    <button onclick="sumOf3And5()">Click here for the output!</button>

    <!-- These elements above are for FSD.JS.9.2-->

    <!-- These elements below are for FSD.JS.9.3-->
    <h1>Check if the users email is valid!</h1>
    <label for="Email">Email</label>
    <input type="text" id="Email" />
    <button onclick="validateEmail()">Check Email!</button>
    <!-- These elements above are for FSD.JS.9.3-->



    <script type="text/javascript">
        //Write javascript for FSD.JS.9.1 here
        function exponent() {
            var num1 = Number(document.getElementById('num1').value);
            var num2 = Number(document.getElementById('num2').value);
            console_multiply(num1, num2)

            //function for console_mult
            function console_multiply(a, b) {
                console.log(a * b);
            }

            //Exponential
            //3^2 = 9  ----- > 3*3
            exp = 1;
            for (var i = 1; i <= num2; i++) {
                exp = exp * num1;
            }
            document.getElementById('result_exp').innerHTML = exp;
        };



        //Write javascript for FSD.JS.9.2 here
        function sumOf3And5() {

            var limit = Number(document.getElementById('limit').value);
            var sum = 0;
            for (var i = 0; i <= limit; i++) {
                if (i % 15 === 0) {
                    sum = sum + i;
                }
            }
            if (sum == 0) {
                document.getElementById('multiple_3and5_result').innerHTML = 'Multiples of 3 and 5 are not present'
            } else {
                console.log(sum)
                document.getElementById('multiple_3and5_result').innerHTML = sum;
            }
        }



        //Write javascript for FSD.JS.9.3 here
        function validateEmail() {

            var email = document.getElementById('Email').value;

            //function for checking valid Email-id

            var email_status = checkValidEmail(email);

            console.log(email_status);

            if (email_status) {
                alert('Valid Email!');
            } else {
                alert('Invalid Email');
            }

            //check valid email
            function checkValidEmail(str) {

                if (checkAtTheRate(str) && checkCharBeforeAtTheRate(str) && checkDotatStart(str) && checkSpecialCharacters(str) && checkDoubleDots(str) && checkMultipleTLD(str) && checkTopLevelDomain(str)) {
                    return true;
                } else {
                    return false;
                }
            }


            //check special characters
            function checkSpecialCharacters(str) {
                var ele = convertStringToArray(str);
                for (var i = 0; i < ele.length; i++) {
                    if (ele[i] == '!' || ele[i] == '#' || ele[i] == '$' || ele[i] == '%' ||
                        ele[i] == '^' || ele[i] == '&' || ele[i] == '*' || ele[i] == '(' ||
                        ele[i] == ')' || ele[i] == '+' || ele[i] == '=' || ele[i] == '{' ||
                        ele[i] == '}' || ele[i] == '[' || ele[i] == ']' || ele[i] == ':' ||
                        ele[i] == ';' || ele[i] == '\"' || ele[i] == '\'' || ele[i] == ',' ||
                        ele[i] == '<' || ele[i] == '>' || ele[i] == '?' || ele[i] == '/' ||
                        ele[i] == '\'' || ele[i] == '_' || ele[i] == '-') {
                        return false;
                    }
                };
                return true;
            }


            //check multiple top level domain
            function checkMultipleTLD(str) {

                var count = 0;
                for (var i = 0; i < str.length; i++) {
                    var sampleString = '';
                    for (var j = i; j <= i + 3; j++) {
                        sampleString = sampleString + str[j];
                    }
                    if (sampleString === '.net' || sampleString === '.com' || sampleString === '.org') {
                        count++;
                    }
                }
                if (count > 1) {
                    return false;
                } else {
                    return true;
                }
            }


            //check top level domain
            function checkTopLevelDomain(str) {

                var sampleString = '';
                for (var j = str.length - 4; j < str.length; j++) {
                    sampleString = sampleString + str[j];
                }
                if (sampleString === '.net' || sampleString === '.com' || sampleString === '.org') {
                    return true;
                } else {
                    return false;
                }
            }


            //check double dots
            function checkDoubleDots(str) {

                for (var j = 0; j < str.length; j++) {
                    if (str[j] === '.') {
                        if (str[j + 1] === '.') {
                            return false;
                        }
                    }
                }
                return true;
            }

            //check '.' check at start
            function checkDotatStart(str) {

                if (str[0] === '.') {
                    return false;
                } else {
                    return true;
                }
            }

            //check character before @
            function checkCharBeforeAtTheRate(str) {

                var char = 0;
                var arr = convertStringToArray(str);
                for (var i = 0; i < arr.length; i++) {
                    if (arr[i] === '@') {
                        if (typeof arr[i - 1] === 'undefined' || arr[i - 1] === '.') {
                            return false;
                        }
                    }
                }
                return true;
            }


            //check @ symbol
            function checkAtTheRate(str) {
                var count = 0;
                arr = convertStringToArray(str);
                for (var j = 0; j < arr.length; j++) {
                    if (arr[j] === '@') {
                        count++;
                    }
                }
                if (count > 1) {
                    return false;
                } else if (count === 0) {
                    return false;
                } else if (str[str.length - 5] === '@') {
                    return false;
                } else {
                    return true;
                }
            }

            //convert string to array
            function convertStringToArray(str) {
                var arr = [];
                for (var i = 0; i < str.length; i++) {
                    arr.push(str[i]);
                }
                return arr;
            }

        }
    </script>
</body>

</html>